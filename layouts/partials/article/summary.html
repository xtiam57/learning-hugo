{{ $class := "" }}
{{ $style := .Params.Style | default "fit" }}

{{ if eq $style "cover" }}
  {{ $class = "full-cover" }}
  {{ with .Params.Image }}
  <style>
    .article-summary.full-cover {
      background-image: url({{ . }});
    }
  </style>
  {{ end }}
{{ else if eq $style "fit" }}
  {{ $class = "fit-cover" }}
{{ end }}

{{ if not .Params.Image }}
  {{ $class = "" }}
  {{ $style = "" }}
{{ end }}

<section role="summary" class="article-summary {{ $class }}">
  {{ if eq $style "fit" }}
  <picture>
    <img {{ with .Params.Image }}data-lazy="{{ . }}" {{ end }} alt="{{- .Params.Summary | default .Description -}}"
         class="img-lazy">
  </picture>
  {{ end }}

  <div class="summary-wrapper">
    {{ if .Params.categories }}
    <section class="summary-categories">
      {{ range $index, $categories := .Params.categories }}
      {{- if gt $index 0 }} 路 {{ end -}}
      <a href="/categories/{{ . | urlize }}">{{ . }}</a>
      {{ end }}
    </section>
    {{ end }}

    <h1>{{ .Page.Title }}</h1>
    <p class="summary-description">
      {{- .Params.Summary | default .Description -}}
    </p>
    <p class="summary-info">
      {{ if .Params.Author }}
      Por <strong>{{ .Params.Author }}</strong> 路
      {{ else }}
      Por <strong>Christiam Mena</strong> 路
      {{ end }}
      <time datetime="{{ .PublishDate.Format "January 2, 2006" }}">
        {{ .PublishDate.Format "January 2, 2006" }}
      </time> 路
      {{.ReadingTime}} minutos de lectura
    </p>

    {{ partial "article/share-buttons.html" . }}
  </div>
</section>
